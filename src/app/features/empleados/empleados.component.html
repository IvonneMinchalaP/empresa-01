<div class="container">
  <h2>Empleados</h2>
<!-- 
  <dx-button
    text="Agregar Empleado"
    (onClick)="agregarEmpleado()"
  ></dx-button> -->

  <dx-data-grid 
    [dataSource]="empleados" 
    [showBorders]="true" 
    [rowAlternationEnabled]="true" 
    [columnAutoWidth]="true" >
    <dxo-editing
    mode="row"
    [allowAdding]="true"
    [allowUpdating]="true"
    [allowDeleting]="true"
  >
  </dxo-editing>
    <dxo-paging [enabled]="true" [pageSize]="5"></dxo-paging>
    <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[5, 10, 20]" [showInfo]="true"></dxo-pager>
    <dxi-column dataField="id" caption="ID" [width]="70"></dxi-column>
    <dxi-column dataField="nombre" caption="Nombre"></dxi-column>
    <dxi-column dataField="email" caption="Correo"></dxi-column>
    <dxi-column dataField="puesto" caption="Puesto"></dxi-column>
    <dxi-column dataField="telefono" caption="Teléfono"></dxi-column>
    <dxi-column type="buttons">
      <!-- <dxi-button icon="edit" hint="Editar" (onClick)="actualizarEmpleado($event.row.data)"></dxi-button>
      <dxi-button icon="trash" hint="Eliminar" (onClick)="eliminarEmpleado($event.row.data.id)"></dxi-button> -->
    </dxi-column>
  </dx-data-grid>

  <!-- Popup para Agregar/Actualizar -->
  <dx-popup
    [visible]="isPopupVisible"
    [dragEnabled]="true"
    [closeOnOutsideClick]="true"
    [showTitle]="true"
    title="{{ isUpdating ? 'Actualizar Empleado' : 'Agregar Empleado' }}"
    (onHiding)="isPopupVisible = false"
  >
    <div *dxTemplate="let data of 'content'" class="popup-content">
      <form>
        <div class="form-group">
          <label>Nombre:</label>
          <dx-text-box [(value)]="currentEmpleado.nombre"></dx-text-box>
        </div>
        <div class="form-group">
          <label>Correo:</label>
          <dx-text-box [(value)]="currentEmpleado.email"></dx-text-box>
        </div>
        <div class="form-group">
          <label>Puesto:</label>
          <dx-text-box [(value)]="currentEmpleado.puesto"></dx-text-box>
        </div>
        <div class="form-group">
          <label>Teléfono:</label>
          <dx-text-box [(value)]="currentEmpleado.telefono"></dx-text-box>
        </div>
        <div class="form-actions">
          <dx-button text="Guardar" (onClick)="guardarEmpleado()"></dx-button>
        </div>
      </form>
    </div>
  </dx-popup>
</div>